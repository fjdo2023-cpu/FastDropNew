
{% extends "base.html" %}
{% block content %}
<h2>Editar Produto</h2>
<form method="POST" enctype="multipart/form-data" class="mt-3">
  <div class="row">
    <div class="col-md-6 mb-3">
      <label>Nome</label>
      <input name="nome" class="form-control" value="{{ produto.nome }}" required>
    </div>
    <div class="col-md-3 mb-3">
      <label>SKU</label>
      <input name="sku" class="form-control" value="{{ produto.sku }}">
    </div>
    <div class="col-md-3 mb-3">
      <label>Preço</label>
      <input name="preco" type="number" step="0.01" class="form-control" value="{{ produto.preco }}">
    </div>
  </div>

  <div class="mb-3">
    <label>Descrição de venda</label>
    <textarea name="descricao" class="form-control" rows="4">{{ produto.descricao }}</textarea>
  </div>

  <div class="row">
    <div class="col-md-4 mb-3">
      <label>Imagem principal atual</label><br>
      {% if produto.image_url %}
        <img src="{{ produto.image_url }}" class="thumb mb-2">
      {% else %}
        <span class="text-muted">Sem imagem.</span>
      {% endif %}
      <input type="file" name="image" class="form-control mt-2">
      <small class="text-muted">Envie apenas se quiser trocar a imagem.</small>
    </div>
    <div class="col-md-8 mb-3">
      <label>Imagens adicionais</label><br>
      {% if produto.extra_images_urls %}
        {% for url in produto.extra_images_urls %}
          <img src="{{ url }}" class="thumb me-1 mb-1">
        {% endfor %}
      {% else %}
        <span class="text-muted">Nenhuma imagem adicional.</span>
      {% endif %}
      <input type="file" name="extra_images" class="form-control mt-2" multiple>
      <small class="text-muted">Novas imagens serão adicionadas às existentes.</small>
    </div>
  </div>

  <button class="btn btn-success mt-3">Salvar alterações</button>
  <a href="/products" class="btn btn-secondary mt-3 ms-2">Voltar</a>
</form>
{% endblock %}
